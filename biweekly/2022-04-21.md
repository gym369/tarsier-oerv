# RISC-V 开源操作系统进展·第004期·2022年04月21日

## 卷首语

## 本期亮点

### openEuler_Developer Day 2022召开

- openEuler_Developer_Day_2022  SIG-RISC-V sig顺利召开：https://etherpad.openeuler.org/p/SIG-RISC-V_openEuler_Developer_Day_2022_Planning
- 参与【圆桌会议：凡是未来 皆有可期-社区运作版本规划】：https://www.openeuler.org/zh/interaction/summit-list/devday2022/
- 参与 多样性计算分论坛：openEuler 在RISC-V的生态建设和展望 报告（吴伟）：https://live.issmart.com.cn/Live/openEulerLive/#/pc?eventId=6008&liveId=b61bc8f2&lang=cn&utm_source=live

### openEuler RISC-V PR ：+31

| rvPRUser      | packageName             | rvPRUrl                                                      | rvPRStatus | created_at          |
| ------------- | ----------------------- | ------------------------------------------------------------ | ---------- | ------------------- |
| gym369        | ntp                     | https://gitee.com/openEuler-RISC-V/ntp/pulls/1               | open       | 2022-04-16 23:04:58 |
| gym369        | webrtc-audio-processing | https://gitee.com/openEuler-RISC-V/webrtc-audio-processing/pulls/1 | merged     | 2022-04-11 00:25:07 |
| jchzhou       | ffmpeg                  | https://gitee.com/openEuler-RISC-V/ffmpeg/pulls/1            | merged     | 2022-04-19 11:53:05 |
| Jingwiw       | python-qt5              | https://gitee.com/openEuler-RISC-V/python-qt5/pulls/1        | merged     | 2022-04-18 01:22:08 |
| Jingwiw       | qt5-qtwebkit            | https://gitee.com/openEuler-RISC-V/qt5-qtwebkit/pulls/1      | open       | 2022-04-17 15:08:33 |
| Jingwiw       | glslang                 | https://gitee.com/openEuler-RISC-V/glslang/pulls/1           | merged     | 2022-04-15 20:43:30 |
| Jingwiw       | qt5-qt3d                | https://gitee.com/openEuler-RISC-V/qt5-qt3d/pulls/1          | merged     | 2022-04-08 22:15:00 |
| laokz         | apache-commons-jexl     | https://gitee.com/openEuler-RISC-V/apache-commons-jexl/pulls/1 | merged     | 2022-04-15 22:42:09 |
| laokz         | lwip                    | https://gitee.com/openEuler-RISC-V/lwip/pulls/1              | merged     | 2022-04-13 14:05:59 |
| misaka00251   | opusfile                | https://gitee.com/openEuler-RISC-V/opusfile/pulls/1          | merged     | 2022-04-07 21:57:29 |
| SEmmmer       | go-bindata              | https://gitee.com/openEuler-RISC-V/go-bindata/pulls/1        | merged     | 2022-04-15 13:31:43 |
| SEmmmer       | rubygem-puma            | https://gitee.com/openEuler-RISC-V/rubygem-puma/pulls/1      | merged     | 2022-04-10 11:38:58 |
| sunzhexin     | risc-v-kernel           | https://gitee.com/openEuler-RISC-V/risc-v-kernel/pulls/4     | merged     | 2022-04-07 16:36:49 |
| wangyangdahai | libuv                   | https://gitee.com/openEuler-RISC-V/libuv/pulls/1             | merged     | 2022-04-08 12:25:37 |
| wangyangdahai | nodejs                  | https://gitee.com/openEuler-RISC-V/nodejs/pulls/1            | merged     | 2022-04-08 10:44:05 |
| YukariChiba   | alsa-lib                | https://gitee.com/openEuler-RISC-V/alsa-lib/pulls/2          | open       | 2022-04-19 15:17:10 |
| YukariChiba   | zstd                    | https://gitee.com/openEuler-RISC-V/zstd/pulls/1              | open       | 2022-04-15 13:04:38 |
| YukariChiba   | zenity                  | https://gitee.com/openEuler-RISC-V/zenity/pulls/1            | merged     | 2022-04-15 12:19:14 |
| YukariChiba   | zimg                    | https://gitee.com/openEuler-RISC-V/zimg/pulls/1              | merged     | 2022-04-15 12:18:15 |
| YukariChiba   | zlib                    | https://gitee.com/openEuler-RISC-V/zlib/pulls/1              | open       | 2022-04-15 12:17:00 |
| YukariChiba   | ypserv                  | https://gitee.com/openEuler-RISC-V/ypserv/pulls/1            | merged     | 2022-04-15 12:09:00 |
| YukariChiba   | yaml-cpp                | https://gitee.com/openEuler-RISC-V/yaml-cpp/pulls/1          | open       | 2022-04-15 12:08:15 |
| YukariChiba   | amtk                    | https://gitee.com/openEuler-RISC-V/amtk/pulls/1              | open       | 2022-04-15 12:07:30 |
| YukariChiba   | abseil-cpp              | https://gitee.com/openEuler-RISC-V/abseil-cpp/pulls/1        | open       | 2022-04-15 12:05:20 |
| YukariChiba   | mysql                   | https://gitee.com/openEuler-RISC-V/mysql/pulls/1             | merged     | 2022-04-14 04:47:04 |
| YukariChiba   | libffado                | https://gitee.com/openEuler-RISC-V/libffado/pulls/3          | merged     | 2022-04-14 03:10:47 |
| YukariChiba   | enchant2                | https://gitee.com/openEuler-RISC-V/enchant2/pulls/1          | merged     | 2022-04-14 03:01:50 |
| YukariChiba   | afflib                  | https://gitee.com/openEuler-RISC-V/afflib/pulls/1            | merged     | 2022-04-13 18:14:29 |
| YukariChiba   | acpica-tools            | https://gitee.com/openEuler-RISC-V/acpica-tools/pulls/1      | merged     | 2022-04-13 16:25:27 |
| 吕晓倩        | eclipse-emf             | https://gitee.com/openEuler-RISC-V/eclipse-emf/pulls/1       | merged     | 2022-04-07 13:48:17 |
| 吕晓倩        | tycho                   | https://gitee.com/openEuler-RISC-V/tycho/pulls/1             | open       | 2022-04-07 10:20:00 |



### 镜像制作

- 增加生成tar格式系统压缩文件脚本：https://gitee.com/openeuler/RISC-V/tree/master/tools/osmaker/qemuimg

- 文档更新：[镜像脚本使用说明](https://gitee.com/openeuler/RISC-V/blob/master/tools/osmaker/qemuimg/README.md)

### RISC-V 软件源&每日镜像计划：
- 建立openEuler RISC-V 软件源暂定运行机制：https://gitee.com/openeuler/RISC-V/blob/master/proposal/ORSP003.md
- 建立软件源更新中间站，并完成obsRepo→tarsierRepo→iscasRepo第一次同步：
  - obsRepo：http://119.3.219.20:82/openEuler:/Mainline:/RISC-V/standard_riscv64/
  - tarsierRepo:https://repo.tarsier-infra.com/openEuler-RISC-V/development/
  - iscasRepo:https://mirror.iscas.ac.cn/openeuler-sig-riscv/openEuler-RISC-V/


### Firefox移植
- 完成基础移植，能够展示非视频网页；视频网站还未能展示，问题分析和优化中

### 测试

- [在openEuler RISC-V QEMU搭建XFCE环境](https://gitee.com/yunxiangluo/riscv-openeuler/tree/master/chapter3/class1)
- [openEuler 22.03 RISC-V QEMU rootfs镜像预装包测试](https://gitee.com/yunxiangluo/riscv-openeuler/blob/master/chapter3/class2/oE2203_RISCV_PKG_PRE_INSTALLATION_TEST.md)
- [在openEuler RISC-V QEMU搭建XFCE+Firefox环境](https://gitee.com/yunxiangluo/riscv-openeuler/blob/master/chapter3/class1/README_1.md)



## openEuler RISC-V

### jchzhou

软件源和多媒体方面有一点点进度。

#### RISC-V 中间仓 PR

参考上方表格。

#### RISC-V 文档仓 PR

<details>
  <summary>点击展开</summary>

- ORSP003: 请见上文
- 软件源情况简介文档: https://gitee.com/openeuler/RISC-V/pulls/365
- Readme 更新: https://gitee.com/openeuler/RISC-V/pulls/375
- 更新软件源简介文档: https://gitee.com/openeuler/RISC-V/pulls/378

</details>

### misaka00251

没有赶上席静老师的统计！之前尝试修复 evince 的时候看到了 texlive 的[错误](https://github.com/isrc-cas/tarsier-oerv/issues/308)，遂打算来修复 texlive。后续看到 texlive 的版本过于落后遂打算进行全套升级的大工程。或许完成之后可以 revert 对 evince 的更改？

#### 已提交 PR


<details>
  <summary>点击展开</summary>

 - [opusfile](https://gitee.com/openeuler-risc-v/opusfile/pulls/1)
 - [psutils](https://gitee.com/openeuler-risc-v/psutils/pulls/1)
 - [texlive](https://gitee.com/openeuler-risc-v/texlive/pulls/1)
 - [texlive-base](https://gitee.com/openeuler-risc-v/texlive-base/pulls/2)
 - [texlive-filesystem](https://gitee.com/openeuler-risc-v/texlive-filesystem/pulls/1)
 - [texlive-split-a](https://gitee.com/openeuler-risc-v/texlive-split-a/pulls/1)
 - [texlive-split-b](https://gitee.com/openeuler-risc-v/texlive-split-b/pulls/1)
 - [texlive-split-c](https://gitee.com/openeuler-risc-v/texlive-split-c/pulls/1)
 - [texlive-split-d](https://gitee.com/openeuler-risc-v/texlive-split-d/pulls/1)
 - [texlive-split-e](https://gitee.com/openeuler-risc-v/texlive-split-e/pulls/1)
 - [texlive-split-f](https://gitee.com/openeuler-risc-v/texlive-split-f/pulls/1)
 - [texlive-split-g](https://gitee.com/openeuler-risc-v/texlive-split-g/pulls/1)
 - [texlive-split-h](https://gitee.com/openeuler-risc-v/texlive-split-h/pulls/1)
 - [texlive-split-i](https://gitee.com/openeuler-risc-v/texlive-split-i/pulls/1)
 - [texlive-split-j](https://gitee.com/openeuler-risc-v/texlive-split-j/pulls/1)
 - [texlive-split-k](https://gitee.com/openeuler-risc-v/texlive-split-k/pulls/1)
 - [texlive-split-l](https://gitee.com/openeuler-risc-v/texlive-split-l/pulls/1)
 - [texlive-split-m](https://gitee.com/openeuler-risc-v/texlive-split-m/pulls/1)
 - [texlive-split-n](https://gitee.com/openeuler-risc-v/texlive-split-n/pulls/1)
 - [texlive-split-o](https://gitee.com/openeuler-risc-v/texlive-split-o/pulls/1)
 - [texlive-split-p](https://gitee.com/openeuler-risc-v/texlive-split-p/pulls/1)
 - [texlive-split-q](https://gitee.com/openeuler-risc-v/texlive-split-q/pulls/1)
 - [texlive-split-r](https://gitee.com/openeuler-risc-v/texlive-split-r/pulls/1)
 - [texlive-split-s](https://gitee.com/openeuler-risc-v/texlive-split-s/pulls/1)
 - [texlive-split-t](https://gitee.com/openeuler-risc-v/texlive-split-t/pulls/1)
 - [texlive-split-u](https://gitee.com/openeuler-risc-v/texlive-split-u/pulls/1)
 - [texlive-split-v](https://gitee.com/openeuler-risc-v/texlive-split-v/pulls/1)
 - [texlive-split-w](https://gitee.com/openeuler-risc-v/texlive-split-w/pulls/1)
 - [texlive-split-x](https://gitee.com/openeuler-risc-v/texlive-split-x/pulls/1)
 - [texlive-split-y](https://gitee.com/openeuler-risc-v/texlive-split-y/pulls/1)
 - [texlive-split-z](https://gitee.com/openeuler-risc-v/texlive-split-z/pulls/1)

</details>

#### OBS 提交修复/升级的包:

 - [opusfile](https://build.openeuler.org/request/show/801)

#### 其它

 - Submit add package `glm` request to upstream
   - https://gitee.com/openeuler/community/pulls/3463

### gice    
#### 包
-tensorflow: 使用bazel3.1.0进行编译，配置好了bazel的编译平台，已在tensorflow源码中加入riscv64的支持，目前报错：libtensorflow_framework.so.2: undefined reference to `aws_mutex_init'


### SEmmmer
#### 提交的PR
- [go-bindata](https://gitee.com/openeuler-risc-v/go-bindata/pulls/1)
- [rubygem-puma](https://gitee.com/openeuler-risc-v/rubygem-puma/pulls/1)
#### OBS更新的包
- [libnetwork](https://build.openeuler.org/request/show/829)
- [go-bindata](https://build.openeuler.org/request/show/853)
- [rubygem-puma](https://build.openeuler.org/request/show/818)
- [wget](https://build.openeuler.org/request/show/788)
#### 其他
- [rubygem-puma 修复心得](https://github.com/ClownpieceStripedAbyss/riscv/blob/master/rubygem-puma.md)


### XYenChi   
#### PR   
-修改了新手教程的[小问题1](https://gitee.com/openeuler/RISC-V/pulls/254)和[小问题2](https://gitee.com/openeuler/community/pulls/3288)
#### 包
-derby:本地编译成功，obs超时，等待obs中   
-erlang-erlydtl: 摸索中，似乎编译环境有问题
#### 个人博客
-[Windows 11 使用qemu模拟Risc-V运行openEuler](https://xyenchi.github.io/2022/04/13/Windows-11%E4%BD%BF%E7%94%A8qemu%E6%A8%A1%E6%8B%9FRisc-V%E8%BF%90%E8%A1%8CopenEuler/)

### duoqilai
#### 众测测试报告的判定和验收
 - 根据同学们提交的《openEuler RISCV系统安装测试》和《openEuler RISCV -OSC安装和功能测试》复现运行，执行测试用例，复现缺陷。
 - 对内容进行判定和验收
#### 测试镜像预装包
 - 根据罗老师的《制作 openEuler RISC-V 硬盘镜像》文档搭建测试镜像预装包环境，测试镜像预装包
#### 初步调研操作系统的测试方法
 - [调研操作系统的测试方法](https://gitee.com/chuachuaa/open-euler/blob/master/%E8%B0%83%E7%A0%94%E5%9B%BD%E5%A4%96%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%A1%8C%E9%9D%A2%E6%B5%8B%E8%AF%95%E6%96%B9%E6%A1%88%E3%80%81%E6%B5%8B%E8%AF%95%E5%86%85%E5%AE%B9%E3%80%81%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B%EF%BC%8C%E4%BA%A7%E5%87%BA%E8%B0%83%E7%A0%94%E6%96%87%E6%A1%A3.md)
 - 开会讨论后明确了调研方向，后会产出新的内容

### yunxiang
#### 众测测试报告审核
 - 分拆和汇总众测报告
 - 对《openEuler RISCV Docker安装和功能测试》提交报告进行审核 https://gitee.com/yunxiangluo/riscv-testing/tree/master/20220419/3
 - 对《openEuler RISCV OSC安装和功能测试》提交报告进行审核 https://gitee.com/yunxiangluo/riscv-testing/tree/master/20220419/4
 - 复现验证众测测试报告提交的缺陷，提交缺陷反馈https://gitee.com/yunxiangluo/riscv-openeuler/tree/master/chapter1/class2
#### 测试RISC-V openEuler 22.03 发行版镜像核心包的安装
 - 验证和编写RISC-V openEuler 22.03 发行版镜像打包步骤文档 https://gitee.com/yunxiangluo/riscv-openeuler/tree/master/chapter3/class2
 - 测试发行版核心包安装缺陷，产出缺陷报告 https://gitee.com/yunxiangluo/riscv-openeuler/blob/master/chapter3/class2/oE2203_RISCV_PKG_PRE_INSTALLATION_TEST.md
#### 组织和参与测试组RISC-V openEuler测试规范调研
 - 会议讨论测试规范和分配测试组近期任务 https://gitee.com/yunxiangluo/riscv-openeuler/blob/master/chapter3/class2/20220414%E6%B5%8B%E8%AF%95%E5%B7%A5%E4%BD%9C%E4%BC%9A%E8%AE%AE%E8%AE%B0%E5%BD%95.md
 - 组织测试规范的调研和报告，张馥媛做相关报告，以下为张馥媛提交报告（https://gitee.com/chuachuaa/open-euler/blob/master/%E8%B0%83%E7%A0%94%E5%9B%BD%E5%A4%96%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%A1%8C%E9%9D%A2%E6%B5%8B%E8%AF%95%E6%96%B9%E6%A1%88%E3%80%81%E6%B5%8B%E8%AF%95%E5%86%85%E5%AE%B9%E3%80%81%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B%EF%BC%8C%E4%BA%A7%E5%87%BA%E8%B0%83%E7%A0%94%E6%96%87%E6%A1%A3.md）
#### 测试firefox安装包
 - 根据RISC-V oE社区文档，手动编译支持XFCE和Firefox的内核，编写安装文档https://gitee.com/yunxiangluo/riscv-openeuler/tree/master/chapter3/class4
 - 验证xfce和firefox基于社区自构建包的安装，目前存在xfce启动问题，使用fedora源没有问题。https://gitee.com/yunxiangluo/riscv-openeuler/blob/master/chapter3/class1/README_1.md（问题版），https://gitee.com/yunxiangluo/riscv-openeuler/blob/master/chapter3/class1/README.md（无问题版）

### lvxiaoqian
#### PR
如上表格
#### python3.9
个人仓库地址

https://build.openeuler.org/project/show/home:lvxiaoqian:python3.9

其中除了python-joblib（长时间未构建出结果）和pytorch（不支持riscv）都已经成功出包，由于前期一些依赖问题修改了project config，目前正在删除某些配置，正在触发二轮构建

其中有部分包升级到了src最新的commit id, 由于mainline还未升级至python3.9故未向mainline提交

其中部分包因彼此依赖，先取消测试项构建成功，目前已恢复测试项

其中部分包修改还未提交pr，等obs恢复构建再提交（其中python-qt5 和 qt5-qtwebkit 和经纬同学重复，暂不提交）

#### issue
[构建失败]gradle：https://github.com/isrc-cas/tarsier-oerv/issues/295   （lucene也有类似问题）

[构建失败]eclipse-ecf：https://github.com/isrc-cas/tarsier-oerv/issues/344

### Jingwiw
围绕着 firefox 展开相关的工作。firefox 目前在 user 模式下稳定出包，时间约为 13000s 左右。新出的包速度优化，可以在 qemu 上正常运行。目前可以认定图形界面的问题源于整体环境问题，正在调整 mesa。

将 QT5 系列升级至 5.15 版本，mesa 按照 arch 组的编译选项升级到 22 版本，并且都完全迁移到新的 OBS 上构建成功。

承接了 chromium 项目，项目已经初始化。

在 刘鑫老师([@misaka00251](https://github.com/misaka00251)) 提供的 gitlab 上，上传了 firefox 与 chromium 工程，并且将 firefox 上传到 OBS 上，预计可以下周可以在 OBS 出包。

#### RISC-V 中间仓 PR

参考上方表格。

#### RISC-V 中间仓新增 Fork 包 PR
<details>
  <summary>点击展开</summary>

- python-qt5: https://gitee.com/openeuler/RISC-V/pulls/388
- glslang: https://gitee.com/openeuler/RISC-V/pulls/384
- qt5-qt3d: https://gitee.com/openeuler/RISC-V/pulls/361

</details>

#### OBS 提交的新包:
<details>
  <summary>点击展开</summary>

- spirv-tools: https://build.openeuler.org/request/show/828
- spirv-llvm-translator: https://build.openeuler.org/request/show/832
- opencl-filesystem: https://build.openeuler.org/request/show/833
- spirv-tools: https://build.openeuler.org/request/show/834
- glslang:
  - https://build.openeuler.org/request/show/864
  - https://build.tarsier-infra.com/request/show/2

</details>

#### OBS 提交修复/升级的包
<details>
  <summary>点击展开</summary>

- sip: https://build.openeuler.org/request/show/798
- jemalloc: https://build.openeuler.org/request/show/799
- wayland: https://build.openeuler.org/request/show/800
- wayland-protocols: https://build.openeuler.org/request/show/803
- libomxil-bellagio: https://build.openeuler.org/request/show/825
- libva: https://build.openeuler.org/request/show/831
- NetworkManager: https://build.openeuler.org/request/show/836
- xorg-x11-server: https://build.openeuler.org/request/show/837
- libxslt: https://build.openeuler.org/request/show/838
- xorg-x11-drv-ati: https://build.openeuler.org/request/show/840
- libclc: https://build.openeuler.org/request/show/841
- libdrm: https://build.openeuler.org/request/show/842
- xorg-x11-drv-qxl: https://build.openeuler.org/request/show/843
- spirv-headers: https://build.openeuler.org/request/show/845
- QT 5.15 27 个包全线升级 + 修复 提交至新的 OBS 上:
  - https://build.tarsier-infra.com/request/show/3
  - https://build.tarsier-infra.com/request/show/4
  - https://build.tarsier-infra.com/request/show/5
  - https://build.tarsier-infra.com/request/show/6
  - https://build.tarsier-infra.com/request/show/7
  - https://build.tarsier-infra.com/request/show/8
  - https://build.tarsier-infra.com/request/show/9
  - https://build.tarsier-infra.com/request/show/10
  - https://build.tarsier-infra.com/request/show/11
  - https://build.tarsier-infra.com/request/show/12
  - https://build.tarsier-infra.com/request/show/13
  - https://build.tarsier-infra.com/request/show/14
  - https://build.tarsier-infra.com/request/show/15
  - https://build.tarsier-infra.com/request/show/16
  - https://build.tarsier-infra.com/request/show/17
  - https://build.tarsier-infra.com/request/show/18
  - https://build.tarsier-infra.com/request/show/19
  - https://build.tarsier-infra.com/request/show/20
  - https://build.tarsier-infra.com/request/show/21
  - https://build.tarsier-infra.com/request/show/22
  - https://build.tarsier-infra.com/request/show/23
  - https://build.tarsier-infra.com/request/show/24
  - https://build.tarsier-infra.com/request/show/25
  - https://build.tarsier-infra.com/request/show/26
  - https://build.tarsier-infra.com/request/show/27
  - https://build.tarsier-infra.com/request/show/28
  - https://build.tarsier-infra.com/request/show/29

</details>

### gym369

#### PR

如上表格

## OBS提交修复/升级的包
 
https://build.openeuler.org/request/show/839

https://build.openeuler.org/request/show/779

https://build.openeuler.org/request/show/780

https://build.openeuler.org/request/show/806

https://build.openeuler.org/request/show/807

https://build.openeuler.org/request/show/808

https://build.openeuler.org/request/show/809

https://build.openeuler.org/request/show/810

https://build.openeuler.org/request/show/811

https://build.openeuler.org/request/show/812

https://build.openeuler.org/request/show/813


## Debian RISC-V

## Fedora RISC-V
### Milkice
#### 包
- 完成对50多个包的调查工作，并为需要打patch的包创建了repo并提交了若干pr给Fedora官方


